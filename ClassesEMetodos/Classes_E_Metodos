 
# -- Classes e Metodos



abstração de uma entidade do mundo real

modelo ou template, que contém valores conhecidos como membros de dados e conjuntos de regras, conhecidos como comportamentos ou métodos

é um tipo estruturado que contém membros:

1. Atributos (dados: propriedades,campos)
2. Comportamentos (métodos)

sintaxe:

class NomeClasse

{
 public string nome; --> Campos

 public void Comer(); --> Métodos
}


exemplo:

class Pessoa
{
 public string nome;
 public int idade;
 public string sexo;

 public void Comer();
 public void Respirar();
 public void Trabalhar();
}

Pessoa agora representa um tipo qe contém atributos e comportamentos

A classe Pessoa agora pode criar objetos do tipo Pessoa

Parar criar objetos a partir de um classe usamos a palavra new


Pessoa p1 = new Pessoa()
p1.nome = "Maria";
p1.idade = 34;
p1.sexo = "feminino";

Criamos uma variável p1 do tipo Pessoa
Atribuimos valores aos atributos nome,idade,sexo

p1 é chamado de objeto do tipo Pessoa
Dizemos que p1 é um instância da classe Pessoa


A classe Pessoa é um Modelo para criar objetos

Esses objetos são alocados na memória Heap e são tipos por referência

sintaxe atualizada .NET7

Pessoa p1 = new()
{
    nome = "Alife",
    idade = 23,
    sexo = "masculino"
};





# -- Classe e Alocação na memória



cada classe criada tem uma variavel na memoria stack apontando para o endereço na memoria heap.


Cada instância da classe Pessoa (objetos p1 e p2) é uma entidade separada que tem seu próprio conjunto de membros de dados, distintos das outras instâncias da mesma classe.


Pessoa p1;

O ponteiro de referência definido por p1 é alocado na memória stack.

A instrução Pessoa p1, não aloca memória para uma instância de Pessoa, apenas aloca uma variável com o nome p1 na Stack e define seu valor como null

p1 = new Pessoa()

No momento em que usamos a palavra chave new , o objeto é alocado na memória heap com seus dados e a variável p1 possui uma referência para o local da memória deste objeto

Pessoa p1 = new Pessoa();
p1.nome = "Maria";
p1.idade = 34;
p1.sexo = "feminino";





# -- Alocação de memória

Pessoa p2 = p1;

Ambas as variáveis de referência p1 e p2 , são do tipo Pessoa, e , agora apontam para a mesma alocação da memória.

Uma classe é um "tipo de referência"

Classe, objeto e string são exemplos de Tipos de Referência e são alocadas na Heap


exemplo:

Pessoa p1 = new()
{
    idade = 20,
    nome = "Álife",
    sexo = "Masculino"
};

Pessoa p2 = p1;
Console.WriteLine($"{p2.nome} {p2.idade} {p2.sexo}");

class Pessoa
{
    public string? nome;
    public int idade;
    public string? sexo;
}



# -- Objeto


Um objeto é uma instância de uma classe, criado pelo operador new, e , todos os membros da classe podem ser acessados através do objeto.

A classe é um modelo, um planejamento, enquanto o objeto seria a classe materializada.

public class Cachorro
{
    public string? nome;
    public string? cor;
    public string? sexo;

    public void latir();
    public void comer();
}    



# -- Métodos

Os métodos representam os comportamentos das classes e são usados para executar ações e realizar a comunicação entre objetos e classes

Um método é um bloco de código que contém série de instruções que são executadas quando ele for chamado

No c#, todas as instruções executadas são realizadas no contexto de um método, e , todos os métodos são definidos em classes


C# é uma linguagem orientada a objetos que não possui funções declaradas fora das classes

Na linguagem C# , a rigor , não existem funções mas métodos







-- Criando métodos - Sintaxe mínima


Tipo de Retorno - Determina o tipo do valor que o método retorna ( se o metodo não retornar nada seu tipo será void)


Nome - Define o nome do método(Pascal Case)


Lista de parâmetros - Indica o tipo de dados e o valor das variáveis/objetos que o método pode receber. indicado em parenteses apos o nome do metodo.


Corpo do método - Consiste das instruções definidas entre chaves no corpo do método.


class MinhaClass
{
	void Saudacao()
	{
	 Console.WriteLine("Bem-Vindo !!!");
	 Console.WriteLine("15/10/2022");			
	}

}


exemplo completo :

MyClass minhaClasse = new();

minhaClasse.Saudacao();


class MyClass
{
   public  void Saudacao()
    {
        Console.WriteLine("Bem-Vindo !!!");
        ExibirDataAtual();
    }
   public void ExibirDataAtual()=>
        Console.WriteLine(DateTime.Now.ToShortDateString());
    
}



para uma instrução apenas colocar o sinal '=>'

posso chamar metodos dentro de outros metodos







# -- Metodos com parametros

Maneira de passar dados para uma metodo/função e modificalos/exibilos da nossa maneira


sintaxe padrão


modificadorAcesso tipoRetorno nomeMetodo(argumentos) {
	 instruções
}




exemplo:

Myclass p1 = new Myclass();

p1.Saudacao("Maria",DateTime.Now.ToShortDateString());

public class Myclass
{

public void Saudacao(string nome,string data)
{
 	Console.WriteLine(nome);
 	Console.WriteLine(data);
}

}







# -- Passando Parâmetros entre classes


var aluno = new Aluno();
Console.WriteLine("Nome:");
aluno.Nome = Console.ReadLine();
Console.WriteLine("Idade:");
aluno.Idade = Convert.ToInt32(Console.ReadLine());
Console.WriteLine("Sexo:");
aluno.Sexo = Console.ReadLine();
Console.WriteLine("Aprovado (S)im (N)ão : ");
aluno.Aprovado = Console.ReadLine();

Curso curso = new();
curso.Resultado(aluno);
public class Aluno
{
    public string? Nome;
    public int Idade;
    public string? Sexo;
    public string? Aprovado;
}

public class Curso
{
    public void Resultado(Aluno aluno)
    {
        Console.WriteLine($"\n O aluno:{aluno.Nome} sexo:{aluno.Sexo}  com {aluno.Idade} anos");
        if(aluno.Aprovado?.ToUpper() == "S")
        {
            Console.WriteLine("Aprovado");
        }
        else
        {
            Console.WriteLine("Reprovado");
        }
    }
}





Quando um tipo de referencia é passado por valor a um método, esse método receberá uma copia da referencia para a instancia da classe


o método chamado recebe uma cópia do endereço da instância e o método de chamada retém o endereço original da instância


A instância de classe no método de chamada tem um endereço , o parâmetro do método chamado tem uma cópia do endereço e os dois endereços se referem ao mesmo objeto


metodo main -->  endereço original da instância
curso.Resultado(aluno); --> cópia do endereço da instância







# -- Construtor


Os construtores são tipos especiais de métodos usados para criar e inicilizar objetos de uma classe

c# toda a classe precisa de um construtor para ser inicializada

sempre quando new for usado o construtor será chamado

se você não usar um construtor na classe, o c# criara um construtor padrão sem parametros, sendo usado para instaciar a classe e definir os valores padrão


-- Construtor : sintaxe

Um construtor deve possuir o mesmo nome da classe

não possui tipo de retorno (nem mesmo void)

pode ter parametros para inicializar os membros da classe



valores padrão  de um construtor para os tipos de dados usados

tipo        valor padrão

int              0
long             0
float            0
double           0
decimal          0
string          null
bool            false

exemplo:

Console.WriteLine("Construtores");

Aluno aluno = new Aluno("Maria",22,"Feminino","S");

Console.WriteLine(aluno?.Nome == null ? "null" : aluno?.Nome);
Console.WriteLine(aluno?.Idade == 0 ? 0 : aluno?.Idade);
Console.WriteLine(aluno?.Sexo == null ? "null":aluno.Sexo);
Console.WriteLine(aluno?.Aprovado == null ? "null":aluno.Aprovado );


public class Aluno
{   
    public Aluno(string nome, int idade, string sexo, string aprovado)
    {
        Nome = nome; ;
        Idade = idade; 
        Sexo = sexo;
        Aprovado = aprovado;
    }
    public string? Nome;
    public int Idade;
    public string? Sexo;
    public string? Aprovado;
}




# -- Construtor II

Podemos criar mais de um construtor, o c# tera inteligencia para inferir quais construtor estamos usando


exem:

Aluno aluno = new Aluno(22,"feminino","A");

Console.WriteLine(aluno?.Nome == null ? "null" : aluno?.Nome);
Console.WriteLine(aluno?.Idade == 0 ? 0 : aluno?.Idade);
Console.WriteLine(aluno?.Sexo == null ? "null" : aluno.Sexo);
Console.WriteLine(aluno?.Aprovado == null ? "null" : aluno.Aprovado);
public class Aluno
{   
    public Aluno(string nome)=>Nome = nome;    

    public Aluno(int idade, string sexo, string aprovado)
    {
        Idade = idade;
        Sexo = sexo;    
        Aprovado = aprovado;
    }
    public string Nome;
    public int Idade;
    public string Sexo;
    public string Aprovado;
}




-- chamando outro construtor


usando um parametro string nome no segundo construtor posso refrenciar com this o outro construtor que usa apenas o parametro nome e guardar seu valor no atributo Nome

é bom para não mexer em outros construtores já criados

Aluno aluno = new Aluno("Alife",22,"feminino","A");

Console.WriteLine(aluno?.Nome == null ? "null" : aluno?.Nome);
Console.WriteLine(aluno?.Idade == 0 ? 0 : aluno?.Idade);
Console.WriteLine(aluno?.Sexo == null ? "null" : aluno.Sexo);
Console.WriteLine(aluno?.Aprovado == null ? "null" : aluno.Aprovado);
public class Aluno
{   
    public Aluno(string nome)=>Nome = nome;    

    public Aluno(string nome ,int idade, string sexo, string aprovado):this(nome)
    {
        Idade = idade;
        Sexo = sexo;    
        Aprovado = aprovado;
    }
    public string? Nome;
    public int Idade;
    public string? Sexo;
    public string? Aprovado;
}








# -- Palavra chave this

É usada para diferenciar entre os parâmetros dos métodos e os campos quando ele tiverem o mesmo nome

this representa a propia classe que esta sendo usada

exemplo:

public class Cliente
{
    public string? Nome;
    public int Idade;
    
    public Cliente(string? Nome, int Idade)
    {
        this.Nome = Nome;
        this.Idade = Idade;
    }
}


-- Uso comuns da palavra-chave this


Passa um objeto da instancia atual como parametro para outros metodos

Teste t1 = new Teste();
t1.Num1 = 10;
t1.Num2 = 20;
t1.Exibir();

Teste t2 = new Teste();
t2.Num1 = 88;
t2.Num2 = 99;
t2.Exibir();


public class Teste
{
    public int Num1;
    public int Num2;

    public void PassarParametro(Teste t)
    {
        Console.WriteLine($"\n this={this}");
        Console.WriteLine("Num1: "+ t.Num1);
        Console.WriteLine("Num2:" + t.Num2);
    }

    public void Exibir()
    {
        PassarParametro(this);    
    }

}


-- Usos comuns da palavra-chave this
 

Invocar outro construtor da mesma classe

no codigo abaixo caso seja passado apenas um valor ele ira mostrar apenas o valor inserido e ira mostrar dois parametros setados por padrão no construtor

exemplo:

TesteNum t1 = new TesteNum(10);

public class TesteNum
{
    public TesteNum(int num1, int num2)
    {
        Console.WriteLine($"\nConstrutor com dois parâmetros {num1} e {num2}");
    }

    public TesteNum(int num): this(777,888)
    {
        Console.WriteLine("\n Construtor com um parâmetro " + num);

    }
}


saida:

Construtor com dois parâmetros 777 e 888

Construtor com um parâmetro 10







# -- Métodos com retorno


Os métodos podem retonar um valor para o chamador

se não houver um void , o método poderá retonar um valor usando a instrução return


return funciona apenas se o valor corresponder com o tipo do retorno, então esse valor sera retonarnado ao chamador do metodo



ex:

tipo de retorno = int

nome metodo = Somar

Modificador de acesso -->	public int Somar (int n1, int n2)
					{
						int soma = n1 + n2;
						return soma;
					}





ex:


Calculadora calc = new();

Console.WriteLine($"{calc.Somar(10,10)}");
Console.WriteLine($"{calc.Subtrair(20,10)}");
Console.WriteLine($"{calc.Multiplicar(2,10)}");
Console.WriteLine($"{calc.Dividir(50,10)}");

public class Calculadora
{
    public int Somar(int n1, int n2)
    {
        return n1 + n2;
    }
    public int Subtrair(int n1, int n2)
    {
        return n1 - n2;
    }
    public int Multiplicar(int n1, int n2)
    {
        return n1 * n2;
    }
    public int Dividir(int n1, int n2)
    {
        return n1 / n2;
    }
}









